<!DOCTYPE html>

<html lang="en">
    <head>
        <link href="styles.css?ver=1.0" rel="stylesheet">
        <title>Making a Division Quiz</title>
    </head>
    <body>
        <article>
            <header>
                <h1>Two Problems with Programming (and computers in general)</h1>
                <hr>
            </header>
            <main>
                <section>
                    <header>
                        <h2>Float Truncation</h2>
                    </header>
                    <p>Let's say you were making a division quiz to test on your students in C, who are working on division with decimals.
                    You decide to start relatively easy, with 5 / 2. Your code might look something like this. (Let's say you implemented <code>get_float
                    </code>or used a library).</p>
<pre><code>#include &lt;stdio.h&gt;

int main(void)
{
    float answer = get_float("Q1: 5 / 2  ");
    if (answer == 5 / 2)
    {
        printf("Correct!\n");
    }
    else
    {
        printf("Incorrect!\n");
    }
    return 0;
}</code></pre>
                    <p>Let's give this a test to see if it works so far.</p>
<pre><code>$ cc quiz.c -o quiz
$ ./quiz
Q1: 5 / 2  2.5
Incorrect!
$</code></pre>
                <p>How could it be incorrect? Let's figure out why. Add a trusty <code>printf</code> statement of the answer:</p>
                <code>printf("%f\n", answer);</code>
<pre><code>$ cc quiz.c -o quiz
$ ./quiz
Q1: 5 / 2  2.5
2.500000
Incorrect!
</code></pre>
                <p>Well, it worked, so I guess the 5 / 2 is incorrect? Surely the computer can't mess up like that?
                All right, let's find out:</p>
                <code>printf("%f\n", 5 / 2);</code>
<pre><code>$ cc quiz.c -o quiz
quiz.c:8:20: warning: format specifies type 'double' but the argument has type 'int' [-Wformat]
    8 |     printf("%f\n", 5 / 2);
      |             ~~     ^~~~~
      |             %d
$</code></pre>
                <p>That compiler just gave us a warning! It might look a little different depending on the C compiler you use,
                but it says that 5 / 2 is an <code>int</code>! That is because of how C works with operations.
                Whenever you perform an operation, if both are <code>int</code>s, then the result is an <code>int</code>.
                If the expression's result is 2.5, but it is an <code>int</code>, it just straight up cuts that decimal part out.
                Sure enough, if you type in 2 with our quiz program, it says <q>Correct!</q>. So how can we fix this?</p>
                </section>
            </main>
        </article>
    </body>
</html>